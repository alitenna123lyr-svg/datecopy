# DateCopy - 日期时间快捷复制工具

## 项目概述

一个极简的 Windows 桌面小工具，用于快速复制当前日期和时间到剪贴板。支持后台运行、全局快捷键、多种自定义格式。

## 技术栈

- **框架**: Tauri 2.x (Rust + Web 前端)
- **前端**: Vue 3 + TypeScript
- **UI**: 纯 CSS，iOS 风格设计，不使用 UI 框架
- **构建**: Vite
- **图标**: SF Symbols 风格或 Lucide Icons

选择 Tauri 的原因：
- 打包体积极小（约 3-5MB）
- 内存占用低
- 原生系统托盘支持
- 全局快捷键支持
- 现代化开发体验

## 功能需求

### 核心功能

1. **一键复制日期时间**
   - 点击即复制到剪贴板
   - 复制成功有视觉反馈（轻微动画）

2. **后台运行**
   - 最小化到系统托盘
   - 托盘图标右键菜单
   - 开机自启动（可选）

3. **全局快捷键**
   - 默认快捷键：`Ctrl + Shift + D`（复制日期）
   - 默认快捷键：`Ctrl + Shift + T`（复制时间）
   - 默认快捷键：`Ctrl + Shift + C`（复制日期+时间）
   - 快捷键可自定义

4. **多格式支持**
   - 预设常用格式
   - 用户可自定义格式
   - 格式实时预览

### 预设格式示例

```
日期格式：
- YYYY-MM-DD        → 2026-01-17
- YYYY/MM/DD        → 2026/01/17
- YYYY年MM月DD日     → 2026年01月17日
- MM-DD-YYYY        → 01-17-2026
- DD/MM/YYYY        → 17/01/2026

时间格式：
- HH:mm:ss          → 14:30:25
- HH:mm             → 14:30
- hh:mm:ss A        → 02:30:25 PM
- HH时mm分ss秒       → 14时30分25秒

组合格式：
- YYYY-MM-DD HH:mm:ss    → 2026-01-17 14:30:25
- YYYY年MM月DD日 HH:mm   → 2026年01月17日 14:30
```

## UI/UX 设计规范

### 设计原则

- **极简**: 界面元素最少化，突出核心功能
- **iOS 风格**: 圆角、毛玻璃效果、微妙阴影、流畅动画
- **直觉操作**: 无需学习，一看就会

### 视觉规范

```css
/* 颜色系统 */
--bg-primary: rgba(255, 255, 255, 0.72);      /* 毛玻璃背景 */
--bg-secondary: rgba(118, 118, 128, 0.12);    /* 次级背景 */
--text-primary: #1c1c1e;                       /* 主文字 */
--text-secondary: #8e8e93;                     /* 次级文字 */
--accent: #007aff;                             /* 强调色-蓝 */
--success: #34c759;                            /* 成功-绿 */
--divider: rgba(60, 60, 67, 0.12);            /* 分割线 */

/* 深色模式 */
--dark-bg-primary: rgba(28, 28, 30, 0.72);
--dark-text-primary: #ffffff;
--dark-text-secondary: #8e8e93;

/* 圆角 */
--radius-sm: 8px;
--radius-md: 12px;
--radius-lg: 16px;
--radius-xl: 20px;

/* 阴影 */
--shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.08);
--shadow-md: 0 4px 12px rgba(0, 0, 0, 0.12);

/* 字体 */
font-family: -apple-system, BlinkMacSystemFont, "SF Pro Display", "Segoe UI", sans-serif;

/* 动画 */
--transition-fast: 0.15s ease;
--transition-normal: 0.25s ease;
--transition-spring: 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
```

### 窗口规格

- 默认尺寸: 320px × 420px
- 最小尺寸: 280px × 360px
- 窗口圆角: 12px
- 支持拖拽移动
- 无原生标题栏，自定义标题栏

### 布局结构

```
┌─────────────────────────────┐
│  ●  ●  ●          DateCopy  │  ← 自定义标题栏 (可拖拽)
├─────────────────────────────┤
│                             │
│      2026-01-17             │  ← 当前日期 (大字)
│        14:30:25             │  ← 当前时间 (次级)
│                             │
│  ┌─────────────────────┐    │
│  │    📋 复制日期       │    │  ← 主按钮
│  └─────────────────────┘    │
│  ┌─────────────────────┐    │
│  │    📋 复制时间       │    │
│  └─────────────────────┘    │
│  ┌─────────────────────┐    │
│  │    📋 复制全部       │    │
│  └─────────────────────┘    │
│                             │
│  ─────────────────────────  │  ← 分割线
│                             │
│  格式: YYYY-MM-DD    ▼      │  ← 格式选择器
│                             │
│              ⚙️             │  ← 设置入口
└─────────────────────────────┘
```

### 交互细节

1. **按钮点击反馈**
   - 按下时轻微缩放 (scale: 0.97)
   - 复制成功后按钮短暂变绿，显示 ✓

2. **格式切换**
   - iOS 风格下拉选择器
   - 选中项有勾选标记

3. **设置页面**
   - 从右侧滑入
   - iOS 风格的列表分组

4. **托盘交互**
   - 左键单击: 显示/隐藏窗口
   - 右键单击: 显示菜单

## 项目结构

```
datecopy/
├── src/                    # 前端源码
│   ├── components/         # Vue 组件
│   │   ├── TitleBar.vue    # 自定义标题栏
│   │   ├── TimeDisplay.vue # 时间显示
│   │   ├── CopyButton.vue  # 复制按钮
│   │   ├── FormatSelect.vue# 格式选择器
│   │   └── Settings.vue    # 设置页面
│   ├── stores/             # Pinia 状态管理
│   │   └── settings.ts     # 设置状态
│   ├── utils/              # 工具函数
│   │   └── dateFormat.ts   # 日期格式化
│   ├── styles/             # 样式
│   │   ├── variables.css   # CSS 变量
│   │   └── global.css      # 全局样式
│   ├── App.vue             # 根组件
│   └── main.ts             # 入口
├── src-tauri/              # Rust 后端
│   ├── src/
│   │   ├── main.rs         # 主入口
│   │   ├── tray.rs         # 系统托盘
│   │   ├── shortcut.rs     # 全局快捷键
│   │   └── clipboard.rs    # 剪贴板操作
│   ├── Cargo.toml
│   └── tauri.conf.json     # Tauri 配置
├── package.json
├── vite.config.ts
└── README.md
```

## 开发指南

### 代码风格

- Vue 组件使用 `<script setup lang="ts">` 语法
- CSS 使用 BEM 命名或 scoped 样式
- 优先使用 CSS 变量实现主题切换
- 动画优先使用 CSS transition/animation，复杂动画用 Vue Transition

### 性能要求

- 首次启动时间 < 1秒
- 内存占用 < 50MB
- 打包体积 < 10MB

### 注意事项

1. **窗口无边框设置**
   - tauri.conf.json 中设置 `decorations: false`
   - 实现自定义拖拽区域

2. **快捷键冲突处理**
   - 注册失败时提示用户
   - 提供修改快捷键的选项

3. **开机自启**
   - 使用 Tauri 的 autostart 插件
   - 默认关闭，用户可开启

4. **数据持久化**
   - 用户设置保存到本地 JSON 文件
   - 使用 Tauri 的 fs 插件

5. **深色模式**
   - 跟随系统设置
   - 也可手动切换

## 托盘菜单结构

```
┌─────────────────────┐
│ 显示窗口            │
├─────────────────────┤
│ 复制日期    Ctrl+Shift+D │
│ 复制时间    Ctrl+Shift+T │
│ 复制全部    Ctrl+Shift+C │
├─────────────────────┤
│ 开机启动    ☐        │
├─────────────────────┤
│ 退出                │
└─────────────────────┘
```

## 版本规划

### v1.0 - MVP
- [x] 基础 UI 框架
- [x] 日期时间显示
- [x] 一键复制功能
- [x] 系统托盘
- [x] 基础快捷键

### v1.1 - 增强
- [ ] 自定义格式
- [ ] 快捷键自定义
- [ ] 深色模式
- [ ] 开机自启

### v1.2 - 优化
- [ ] 多语言支持
- [ ] 更多预设格式
- [ ] 导入/导出设置
